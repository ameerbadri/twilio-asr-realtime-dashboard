import { EntityServices, RemovalHandler, SyncEntity } from '../entity';
import { StreamDescriptor } from './serverapi';
export interface StreamServices extends EntityServices {
}
export interface StreamMessage {
    sid: string;
    value: object;
}
/**
 * @class
 * @alias Stream
 * @classdesc A Sync primitive for pub-sub messaging. Stream Messages are not persisted, exist
 *     only in transit, and will be dropped if (due to congestion or network anomalies) they
 *     cannot be delivered promptly.
 * @property {String} sid The immutable system-assigned identifier of this stream. Never null.
 * @property {String} [uniqueName=null] A unique identifier optionally assigned to the stream on creation.
 *
 * @fires Stream#messagePublished
 * @fires Stream#removed
 */
export declare class SyncStream extends SyncEntity {
    private readonly descriptor;
    /**
     * @private
     */
    constructor(services: StreamServices, descriptor: StreamDescriptor, removalHandler: RemovalHandler);
    private readonly uri;
    private readonly links;
    static readonly type: string;
    readonly type: string;
    readonly lastEventId: any;
    readonly sid: string;
    readonly uniqueName: string;
    /**
     * Publish a Message to the Stream. The system will attempt delivery to all online subscribers.
     * @param {Object} value The body of the dispatched message. Maximum size in serialized JSON: 4KB.
     * A rate limit applies to this operation, refer to the [Sync API documentation]{@link https://www.twilio.com/docs/api/sync } for details.
     * @return {Promise<StreamMessage>} A promise which resolves after the message is successfully published
     *   to the Sync service. Resolves irrespective of ultimate delivery to any subscribers.
     * @public
     */
    publishMessage(value: object): Promise<StreamMessage>;
    /**
     * Permanently delete this Stream.
     * @return {Promise<void>} A promise which resolves after the Stream is successfully deleted.
     * @public
     */
    removeStream(): Promise<void>;
    /**
     * Handle event from the server
     * @private
     */
    _update(update: any): void;
    private _handleMessagePublished(sid, data, remote);
    protected onRemoved(isLocal: boolean): void;
}
export default SyncStream;
